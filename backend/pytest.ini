[pytest]
# Configuration pytest pour le backend Risk Management

# Où chercher les tests
testpaths = tests

# Pattern des fichiers de test
python_files = test_*.py

# Pattern des classes de test
python_classes = Test*

# Pattern des fonctions de test
python_functions = test_*

# Options par défaut
addopts =
    # Verbose output
    -v
    # Show local variables in tracebacks
    -l
    # Show summary of all test outcomes
    -ra
    # Strict markers (fail if unknown marker used)
    --strict-markers
    # Show warnings
    -W default
    # Coverage (optionnel, décommenter si vous voulez coverage)
    # --cov=app
    # --cov-report=html
    # --cov-report=term-missing

# Markers personnalisés (pour catégoriser les tests)
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    unit: marks tests as unit tests
    requires_api: marks tests that require real API credentials

# Asyncio mode (important pour les tests async)
asyncio_mode = auto

# Ignore warnings spécifiques
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
